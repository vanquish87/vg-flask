<!----this is for rendering a base template in flask using jinja templating-->
{% extends "temp-n-macro/_user-footer_.html" %}

    

    {% block meta_og_tags_title %}
     
     <!--all the meta og tags and title for the post-->
    {{ ( post.meta_og_tags_title ) |safe }}
        
    {% endblock %}
    
    {% block custom_css_files %}
    
    <!-- Custom styles for fixed top navbar  -->
    <!--<link href="css/navbar_fixed_top.css" rel="stylesheet">-->
    <link href="{{ url_for('static', filename='css/navbar-fixed-top.css') }}" rel="stylesheet">

    <!-- Custom styles for this template -->
    <!--<link href="css/custom-index.css" rel="stylesheet">-->
    <link href="{{ url_for('static', filename='css/custom-blog-post.css') }}" rel="stylesheet">
    
    <!-- Custom footer for this template -->
    <!--<link href="css/footer.css" rel="stylesheet">-->
    <link href="{{ url_for('static', filename='css/user-footer.css') }}" rel="stylesheet">
    
    {% endblock %}
    
    
    {% block content %}
    
    {% include "temp-n-macro/_title-meta-post.html" %}
    
    <!--post image or video here-->
    {{ (post.image_n_video) |safe }}
   
    {% if post.category.name != "premium picks" %}
        <!--macro for social buttons with filling values from this post-->
        <!--social buttons content links & title--> 
        {% from "temp-n-macro/_social-buttons.html" import render_social %}
        {{ render_social((post.full_link) | safe, (post.title) | safe ) }}
    
    {% endif %}
    
    <h3>
        {% if session.get('is_author') and session.get('mobile_ind') %}
                    
        <a href="{{ url_for('edit_post', post_id=post.id) }}">Edit Post</a>
        
        {%if post.live == True %}
        <a href="{{ url_for('draft_post', post_id=post.id) }}">Revert to Draft</a>
        {% else %}
        <a href="{{ url_for('live_post', post_id=post.id) }}">Revert to Live Mode</a>
        {% endif %}
        
        {% endif %}
    </h3>
   
    <!--post starting with intro & table summary for ie, value pick-->
    {{ (post.body_intro) |safe }}
    
    
    {% if post.simple_content == False %}
        <!--check if user is logged in and confirmed    -->
        {% if session.get('mobile_ind') %}
        
            <!--locked table summary at top-->
            {{ (post.table_summary) | safe }}
            
            {% else %}
            <!--locked table box if user is not logged in & unconfirmed-->
            {% include "temp-n-macro/_locked-summary-pick.html" %}
    
        {% endif %}
    {% endif %}
    
    <!--to insert vgex graph inside the post-->
    {% include "temp-n-macro/_vgex.html" %}
    
    
    <!--to insert learn valuepicking button in a box-->
    {% include "temp-n-macro/_learn-valuepicking.html" %}
    
    
    <!--post full ie, about business & SWOT & verdict etc & website box if needed-->
    {{ (post.body_details_website_box) |safe }}
    
    
    {% if post.simple_content == False %}
    <!--check if user is logged in and confirmed    -->
        {% if session.get('mobile_ind')  %}
        
        
            <!--quality analysis and value matrix only if user is logged in & confirmed-->
            {{ (post.quality_value_boxes) |safe }}
            
            
            {% else %}
            
            <!--2 locked tables if user is not logged in & unconfirmed-->
            {% from "temp-n-macro/_locked-valuepick-tables.html" import locked_table %}
            {{ locked_table('Quality Analysis') }}
            
            {% from "temp-n-macro/_locked-valuepick-tables.html" import locked_table %}
            {{ locked_table('Value Matrix') }}
    
        
        {% endif %}
    {% endif %}
    
    
    <!--annual reports at least 2 for the value pick-->
    {{ (post.annual_report_table) |safe }}
    
    
    {% if post.simple_content == False %}
        <!--what r value picks n tax free-->
        {% include "temp-n-macro/_what-r-valuepicks.html" %}
    {% endif %}
    
    <!--for signing : do remember to insert a date & styling if needed-->
    {% from "temp-n-macro/_signature.html" import render_signature %}
    {{ render_signature((post.publish_date_utc.strftime('%d %b %Y')) | safe) }}

    {% if post.simple_content == False %}
        <!--for legends below value picks-->
        {% include "temp-n-macro/_legends.html" %}
    {% endif %}
    
    <!--for disclaimer below post-->
    {% include "temp-n-macro/_disclaimer.html" %}
    
    
    {% if post.category.name != "premium picks" %}
        <!--macro for social buttons with filling values from this post-->
        <!--social buttons content links & title--> 
        {% from "temp-n-macro/_social-buttons.html" import render_social %}
        {{ render_social((post.full_link) | safe, (post.title) | safe ) }}
    
    {% endif %}
    
    <!--these 2 divs should not be stored in database but would be rendered in template itself-->
    </div><!-- /.blog-post -->
    
    </div><!-- /.blog-main -->
    
    
    </div><!-- /.row -->
    </div><!-- /.container -->
    
    
    {% endblock %}